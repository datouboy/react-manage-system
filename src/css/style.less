/*
 *  flex布局在内容元素宽度特别大，会撑破容器的情况下，不太好用
 *  css3 flex流动自适应响应式布局实例
 *  http://qianduanblog.com/post/css-learning-18-css3-flex-responsive-design-example.html
 */

@blue: #0190d4;
@iconGray : #555;
@fontYellow : #f90;
@orangr : #f60;

:global {
	@font-face {font-family: "dakecrm";
		src: url("../font/iconfont.eot"); /* IE9*/
		src: url("../font/iconfont.eot") format("embedded-opentype"), /* IE6-IE8 */
		url("../font/iconfont.woff") format("woff"), /* chrome, firefox */
		url("../font/iconfont.ttf") format("truetype"), /* chrome, firefox, opera, Safari, Android, iOS 4.2+*/
		url("../font/iconfont.svg#dakecrm") format("svg"); /* iOS 4.1- */
	}

	.boxAnimateStart {
		opacity: 0;
		transform: translateX(20px);
	}
	.boxAnimateEnd {
		opacity: 1;
		transform: translateX(0px);
		transition: opacity .5s ease-in-out, transform .5s ease-in-out;
	}

	.colorOrange {
		color: @orangr;
	}

	a.aMenuIcon {
		display: inline-block;
		height: 35px;
		line-height: 35px;
		padding-left: 35px;
		background: @blue;
		color: #fff;
		border-radius: 3px;
		position: relative;
		transition: background .2s ease-in-out;

		span {
			display: block;
			text-align: center;
			height: 35px;
			line-height: 35px;
			border-left: 1px solid #029ad8;
			font-size: 14px;
		}

		&::before {
			position: absolute;
			background: #0084c3;
			border-right: 1px solid #0077ba;
			width: 35px;
			height: 35px;
			line-height: 35px;
			font-size: 18px;
			text-align: center;
			left: 0;
			top: 0;
			font-family: "dakecrm";
			content: "";
			border-radius: 3px 0 0 3px;
			transition: background .2s ease-in-out;
		}

		&:hover{
			color: #fff;
			transition: background .2s ease-in-out;
			&::before {
				color: #fff;
				transition: background .2s ease-in-out;
			}
		}
	}

	.commonDivBox {
		border: 1px solid #d1d1d1;

		&.animateStart {
			.boxAnimateStart
		}
		&.animateEnd {
			.boxAnimateEnd
		}

		h3 {
			height: 39px;
			line-height: 39px;
			background: url("../images/bg_title.gif") left top repeat-x;
			font-size: 14px;
			position: relative;
			padding-left: 40px;
			color: #666;
			font-weight: normal;
			border-bottom: 1px solid #b4b4b4;

			&::before {
				position: absolute;
				width: 14px;
				height: 14px;
				line-height: 14px;
				left: 14px;
				top: 12.5px;
				content: "";
				font-family: "dakecrm";
				font-size: 14px;
				text-align: center;
				color: #333;
			}
		}
	}

	html, body {
		padding: 0;
		margin: 0;
		-webkit-text-size-adjust: none;
	}

	@logoWidth: 240px;
	@pageTopHeight: 60px;
	@navWidth: 190px;
	@leftNavLiHeight: 38px;
	@topBarHeight: 25px;

	body {
		background: #fff url("../images/bg_nav_left.gif") left top repeat-y;
		display: flex;
		min-height: 100vh;
		min-width: @logoWidth + 800px + 220px;
		flex-direction: column;
		font-family: "Microsoft Yahei";
		font-size: 12px;
		line-height: 150%;
	}

	#topBar {
		height: @topBarHeight;
		line-height: @topBarHeight;
		background: #2c2f30;
		color: #cdcdcd;
		padding: 0 10px 0 25px;

		.infoLeft {
			float: left;
		}

		.infoRight {
			float: right;

			.selectOtherShop {
				display: inline-block;
				height: @topBarHeight - 8px;
				color: #fff;
				padding: 0 3px;
			}
		}

		p.info {
			padding: 0;
			margin: 0;
			display: inline-block;
			margin-right: 35px;

			span {
				&.yellow {
					color: @fontYellow;
				}

				&.messageNumBox {
					display: inline-block;
					height: @topBarHeight - 4px;
					line-height: @topBarHeight - 4px;
					background: #d80706;
					border-radius: 3px;
					padding: 0 3px;
					text-align: center;
					min-width: 20px;
				}
			}

			a.paycheckMenu {
				display: block;
				color: #fff;
				background: @orangr;
				border-radius: 3px;
				line-height: @topBarHeight - 4px;
				text-decoration: none;
				padding: 0 10px 0 30px;
				position: relative;
				transition: background .2s ease-in-out;

				&::before{
					display: block;
					height: @topBarHeight - 8px;
					line-height: @topBarHeight - 10px;
					width: @topBarHeight - 8px;
					font-size: @topBarHeight - 10px;
					text-align: center;
					font-family: "dakecrm";
					content: "\e606";
					position: absolute;
					top: 2px;
					left: 10px;
				}

				&:hover{
					background: @fontYellow;
					transition: background 1s ease-in-out;
				}
			}

			a.ant-dropdown-info {
				color: #cdcdcd;
			}
		}
	}

	#pageTop {
		height: @pageTopHeight;
		background: @blue;
		display: flex;

		.logo {
			float: left;
			width: @logoWidth;
			height: @pageTopHeight;
			background: url("../images/logo.png") center center no-repeat;
			a {
				width: @logoWidth;
				height: @pageTopHeight;
				display: block;
			}
		}

		#topNavBox {
			float: left;
			height: @pageTopHeight;
			flex-grow: 1;

			.topNav{
				height: @pageTopHeight;
			}

			ul {
				height: @pageTopHeight;
				padding: 0 2px 0 0;
				margin: 0;
				float: left;
				background: url("../images/top_nav_bg.gif") right top no-repeat;

				.hover {
					background: #006599 url("../images/top_nav_bg.gif") left top no-repeat;
					transition: background .2s ease-in-out;
				}

				li{
					display: block;
					float: left;
					height: @pageTopHeight;

					a {
						display: block;
						height: @pageTopHeight;
						padding: 0 26px;
						font-size: 12px;
						color: #fff;
						text-decoration: none;
						text-align: center;
						background: @blue url("../images/top_nav_bg.gif") left top no-repeat;
						transition: background .2s ease-in-out;

						strong {
							display: block;
							font-weight: normal;
							text-align: center;
						}

						&::before {
							font-family: "dakecrm";
							display: inline-block;
							margin-top: 14px;
							width: 13px;
							height: 13px;
							line-height: 13px;
							text-align: center;
							font-size: 13px;
							color: #fff;
							-webkit-font-smoothing: antialiased;
						}

						&:hover {
							.hover
						}
					}

					&.onthis {
						.hover
					}

					&.index a:before{
						content: "\e601";
					}
					&.remind a:before{
						content: "\e603";
					}
					&.marketing a:before{
						content: "\e609";
					}
					&.management a:before{
						content: "\e608";
					}
					&.member a:before{
						content: "\e602";
					}
					&.analysis a:before{
						content: "\e604";
					}
					&.mysys a:before{
						content: "\e600";
					}
					&.info a:before{
						content: "\e607";
					}
				}
			}

			.topLogout {
				float: right;
				height: 30px;
				min-width: 30px;
				margin-top: (@pageTopHeight - 30px) / 2;
				margin-right: 30px;
				position: relative;
				cursor: pointer;

				&::before {
					display: block;
					height: 30px;
					width: 30px;
					content: "";
					background: url("../images/logout.png") center center no-repeat;
					position: absolute;
					left: -35px;
				}

				p {
					padding: 0;
					margin: 0;
					line-height: 15px;
					color: #fff;
				}
			}
		}
	}

	#pageMain {
		display: flex;
		flex-grow: 1;
		align-items: stretch;
		
		nav {
			width: @navWidth;
			padding-right: 1px;
			min-height: 100%;
			background: url("../images/bg_nav_left.gif") left top repeat-y;

			min-width: @navWidth;
			max-width: @navWidth;
			flex-grow: 0;

			ul.level1 {
				padding: 0;
				margin: 55px 0 0 0;
				border-top: 1px solid #dadada;

				li {
					display: block;
					
					.level1OnThis {/*用于调用*/
						background: @blue;
						color: #fff;
						transition: background .2s ease-in-out, color .2s ease-in-out;

						&::before {
							color: #fff;
							transition: color .2s ease-in-out;
						}

						&::after{
							color: #fff;
							transition: transform .2s ease-in-out, color .2s ease-in-out;
						}
					}

					&.onthis {
						a.level1Li {
							.level1OnThis
						}
					}

					&.havelevel.onthis {
						a.level1Li {
							background: #fff;
							color: #333;
					
							&::before {
								color: @iconGray;
							}
					
							&::after{
								color: @iconGray;
								transform: rotate(90deg);
								transition: transform .2s ease-in-out, color .2s ease-in-out;
							}

							&:hover {
								.level1OnThis
							}
						}
					}

					a {
						display: block;
						height: @leftNavLiHeight;
						line-height: @leftNavLiHeight;
						color: #333;
						text-decoration: none;
						padding-left: 43px;
						font-size: 14px;
						background: #f7f7f7;
						border-bottom: 1px solid #dadada;
						position: relative;
						transition: background .2s ease-in-out, color .2s ease-in-out;

						strong {
							font-weight: normal;
						}

						&:hover {
							.level1OnThis
						}
						
						@leftNavBeforeWidth : 12px;
						&::before {
							position: absolute;
							display: block;
							width: @leftNavBeforeWidth;
							height: @leftNavBeforeWidth;
							line-height: @leftNavBeforeWidth;
							left: 15px;
							top: (@leftNavLiHeight - @leftNavBeforeWidth)/2;
							font-family: "dakecrm";
							font-size: @leftNavBeforeWidth;
							content: "\e601";
							color: @iconGray;
							transition: color .2s ease-in-out;
						}

						@leftNavAfterWidth : 14px;
						&::after{
							position: absolute;
							display: block;
							width: @leftNavAfterWidth;
							height: @leftNavAfterWidth;
							line-height: @leftNavAfterWidth;
							right: 12px;
							top: (@leftNavLiHeight - @leftNavAfterWidth)/2;
							font-family: "dakecrm";
							font-size: @leftNavAfterWidth;
							content: "\e605";
							color: @iconGray;
							transform: rotate(0deg);
							transition: transform .2s ease-in-out, color .2s ease-in-out;
						}
					}
					ul.level2 {
						padding: 0;
						margin: 0;
						height: 0;
						overflow: hidden;
						transition: height .2s ease-in-out;

						&.onthis {
							height: auto;
							transition: height .2s ease-in-out;
						}

						li {
							display: block;
							
							.level2OnThis {/*用于调用*/
								background: @blue;
								color: #fff;
								transition: background .2s ease-in-out, color .2s ease-in-out;

								&::before {
									background: #fff;
									transition: background .2s ease-in-out;
								}
							}

							&.onthis {
								a {
									.level2OnThis
								}
							}

							a {
								display: block;
								height: @leftNavLiHeight;
								line-height: @leftNavLiHeight;
								text-decoration: none;
								border-bottom: 1px solid #dadada;
								padding-left: 57px;
								position: relative;
								color: #646464;

								&:hover {
									.level2OnThis
								}

								&::before {
									position: absolute;
									display: block;
									width: 3px;
									height: 3px;
									overflow: hidden;
									left: 42px;
									top: (@leftNavLiHeight - 3px)/2;
									font-size: 12px;
									content: "";
									background: #646464;
									transition: background .2s ease-in-out;
								}

								&::after {
									display: none;
									content: "";
								}

								strong {
									font-weight: normal;
								}
							}
						}
					}
				}
			}
		}
		.bodyBox {
			width: auto;
			flex-grow: 1;
			min-height: 100%;
			background: #fff;

			#contentBox {
				margin: 20px;
			}
		}
	}

}
